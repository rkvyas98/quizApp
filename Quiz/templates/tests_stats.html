{% extends 'basic.html' %}
{% block al2 %} active {% endblock %}
{% block body %}

    <div class="text-center">
        <h1>Tests Statics</h1>
        <hr>
        <div class="row">
            <div class="col-sm-6">
                <div class="card text-center">
                    <div class="card-header">
                      <h2>Top Scorer</h2>
                    </div>
                    <div class="card-body">
                        <h3>Username : {{top_scorer.1}}</h3>
                        <h3>Highest Score : {{top_scorer.0}}</h3>
                        <h3>Quiz Attempted : {{top_scorer.2}}</h3>
                    </div>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="card text-center">
                    <div class="card-header">
                      <h2>Top User</h2>
                    </div>
                    <div class="card-body">
                        <h3>Username : {{top_user.2}}</h3>
                        <h3>Average Score : {{top_user.1}}</h3>
                        <h3>Total quiz attempts: {{top_user.0}}</h3>
                    </div>
                </div>
            </div>
        </div>
        <hr>
        <p class="subheading">Recent 20 tests attempts data</p> <br>
        <table class="table table-striped table-hover mb-4">
            <thead>
              <tr>
                <th scope="col">Test_id</th>
                <th scope="col">Username</th>
                <th scope="col">Subject</th>
                <th scope="col">Score</th>
              </tr>
            </thead>
            <tbody>
              {% for data in tests_data %}
              {% if forloop.counter == 20 %}
              {{break}}
              {% else %}
              <tr>
                <th scope="row">{{data.test_id}}</th>
                <td>{{data.username}}</td>
                <td>{{data.subject}}</td>
                <td>{{data.score}}</td>
              </tr>
              {% endif %}
              {% endfor %}
            </tbody>
          </table>
    </div>

{% endblock %}